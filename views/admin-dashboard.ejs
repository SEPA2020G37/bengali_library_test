<%- include('includes/head.ejs') %>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/adminStylesheet.css" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">
    <title><%= title %></title>  
</head> 
<body>
    <div>
        <div class="row navigation">
            <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
                <a href="#" class="navbar-brand">
                    <img src="resources/logo.png" width="100" height="100" class="d-inline-block align-middle" alt="BCLibrary">
                </a>
                <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarMenu">
                <span class="navbar-toggler-icon" ></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarMenu">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link">Go to Store</a> 
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">Generate Statistics Reports</a> 
                        </li>
                        
                        <!-- <li class="nav-item">
                            <a href="#" class="nav-link name">Hi! Username </a>
                        </li> -->
                    </ul> 
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-info my-2 my-sm-0 my-button" type="submit">Search</button>
                    </form>
                </div>
            </nav> 
        </div>
        <div class="main">
            <div class="sidebar" id="sidebar">
                <a href="/admin-book-info" class="admin-sidebar-button">Books</a>
                <a href="/admin-order-info" class="admin-sidebar-button">Orders</a>
                <a href="/admin-genre-info" class="admin-sidebar-button">Genres</a>
                <a href="/admin-vendor-info" class="admin-sidebar-button">Vendors</a>
                <a href="/admin-coupon-info" class="admin-sidebar-button">Coupons</a>
            </div>
            <div class="data-section">
                <div class="row d-flex justify-content-between m-2 pt-2">
                    <button class="admin-sidebar-toggler">â˜°</button>
                    <button class="admin-create-button" type="button" data-toggle="modal" data-target="#adminAddArtefactModal">Add Book</button>
                </div>
                
                <div class="data-table">
                    <div class="table-header row">
                        <div class="col-lg-2 col-sm-2 header-item">ISBN</div>
                        <div class="col-lg-2 col-sm-2 header-item">Title</div>
                        <div class="col-lg-2 col-sm-2 header-item">Description</div>
                        <div class="col-lg-1 col-sm-1 header-item">Price</div>
                        <div class="col-lg-2 col-sm-2 header-item">Link</div>
                        <div class="col-lg-1 col-sm-1 header-item">Vendor</div>
                        <div class="col-lg-1 col-sm-1 header-item">Edit</div>
                        <div class="col-lg-1 col-sm-1 header-item">Delete</div>
                    </div>
                    <div class="table-rows">
                        <% books.forEach((book) => {%>
                            <div class="table-row row">
                                <div class="col-lg-2 col-sm-2 row-item"><%= book.isbn %></div>
                                <div class="col-lg-2 col-sm-2 row-item"><%= book.title %></div>
                                <div class="col-lg-2 col-sm-2 row-item"><%= book.description.substring(0, 30) %>...</div>
                                <div class="col-lg-1 col-sm-1 row-item"><%= book.price %></div>
                                <div class="col-lg-2 col-sm-2 row-item"><%= book.link %></div>
                                <div class="col-lg-1 col-sm-1 row-item"><%= book.Vendor.name %></div>
                                <div class="col-lg-1 col-sm-1 row-item"><img src="resources/pen.svg" alt="" style="width:22px; height: 22px"></div>
                                <div class="col-lg-1 col-sm-1 row-item"><img src="resources/delete.svg" alt="" style="width:22px; height: 22px"></div>
                            </div>
                        <%})%>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="adminAddArtefactModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Add Book</h3>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="adminAddArtefactForm" data-modalsource="book" enctype="multipart/form-data">
                        <div class="form-group">
                            <input type="text" name="isbn" class="form-control" placeholder="Isbn" required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="title" class="form-control" placeholder="Title" required>
                        </div>
                        <div class="form-group">
                            <textarea name="description" class="form-control" cols="30" rows="6" placeholder="Description" required></textarea>
                        </div>
                        <div class="form-group">
                            <input type="number" name="price" class="form-control" placeholder="Price" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="venfor">Select Vendor</label><br>
                            <select name="vendor" id="vendor" class="form-control" required>
                                <% vendors.forEach(vendor => { %>
                                    <option value=<%= vendor.id %> ><%= vendor.name %></option>
                                <% }) %>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="book">Select Book</label><br>
                            <input type="file" name="book" id="book" class="form-control-file" required>
                        </div>
                        <button type="submit" class="admin-create-button">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

<%- include('includes/foot.ejs') %>